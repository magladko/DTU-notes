theory Assignment4_pureHOL imports Pure_HOL begin

lemma "(\<not> p \<longrightarrow> p) \<longrightarrow> (p \<longrightarrow> \<not> p) \<longrightarrow> q"
proof
  assume \<open>\<not> p \<longrightarrow> p\<close>
  show \<open>(p \<longrightarrow> \<not> p) \<longrightarrow> q\<close>
  proof
    assume \<open>p \<longrightarrow> \<not> p\<close>
    show \<open>q\<close>
    proof -
      have \<open>p\<close>
      proof (rule classical)
        assume \<open>\<not> p\<close>
        with \<open>\<not> p \<longrightarrow> p\<close> show \<open>p\<close> ..
      qed
      with \<open>p \<longrightarrow> \<not> p\<close> have "\<not> p" ..
      from this and \<open>p\<close> have "\<bottom>" ..
      thus "q" ..
    qed
  qed
qed

end